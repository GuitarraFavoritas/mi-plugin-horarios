{"version":3,"file":"admin.bundle.js","mappings":"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","sources":["webpack://mi-plugin-horarios/./assets/src/js/admin/modal-ajax.js","webpack://mi-plugin-horarios/./assets/src/js/admin/modal-form-interaction.js","webpack://mi-plugin-horarios/./assets/src/js/admin/modal-init.js","webpack://mi-plugin-horarios/./assets/src/js/admin/modal-validation.js","webpack://mi-plugin-horarios/./assets/src/js/admin/table-actions.js","webpack://mi-plugin-horarios/external var \"jQuery\"","webpack://mi-plugin-horarios/webpack/bootstrap","webpack://mi-plugin-horarios/webpack/runtime/compat get default export","webpack://mi-plugin-horarios/webpack/runtime/define property getters","webpack://mi-plugin-horarios/webpack/runtime/hasOwnProperty shorthand","webpack://mi-plugin-horarios/webpack/runtime/make namespace object","webpack://mi-plugin-horarios/./assets/src/js/admin/main.js"],"sourcesContent":["// assets/src/js/admin/modal-ajax.js\r\nimport $ from 'jquery';\r\nimport { validarFormulario } from './modal-validation';\r\nimport { closeModal } from './modal-init';\r\n\r\n/**\r\n * Inicializa el manejador de envío AJAX para el formulario del modal.\r\n * @param {jQuery} $modal - El objeto jQuery del elemento modal.\r\n */\r\nexport function initAjaxSubmit($modal) {\r\n    /* Inicia Modificación: Corregir log y asegurar $modal es válido */\r\n    console.log(`Inicializando manejador CLICK para #mph-guardar-horario...`);\r\n     if (!$modal || !$modal.length || typeof $modal.find !== 'function') {\r\n         console.error(\"initAjaxSubmit: No se recibió el objeto $modal válido.\");\r\n         return;\r\n      }\r\n    /* Finaliza Modificación */\r\n\r\n      const $spinnerModal = $modal.find('.mph-modal-acciones .spinner');\r\n      const $feedbackModal = $modal.find('.mph-modal-feedback');\r\n      const $errorModal = $modal.find('.mph-modal-error');\r\n      const $tablaContainer = $('#mph-tabla-horarios-container'); // Asumimos que existe fuera del modal\r\n\r\n    $modal.on('click', '#mph-guardar-horario', function(e) {\r\n         console.log('--- Botón Guardar Clickeado ---');\r\n\r\n         console.log('Estado de window.mph_admin_obj JUSTO AL HACER CLICK:', window.mph_admin_obj);\r\n         const $button = $(this);\r\n         const $form = $modal.find('form#mph-form-horario');\r\n\r\n         if (!$form.length) {\r\n             console.error(\"Error en click Guardar: No se encontró el formulario.\");\r\n             alert(\"Error interno del formulario.\");\r\n             return;\r\n         }\r\n\r\n        console.log('Llamando a validarFormulario...');\r\n        if (!validarFormulario($form)) {\r\n            console.log('validarFormulario devolvió false. Envío detenido.');\r\n            return;\r\n        }\r\n        console.log('Validación pasada. Procediendo con AJAX...');\r\n\r\n        // Feedback visual\r\n        if ($spinnerModal.length) $spinnerModal.addClass('is-active');\r\n        if ($feedbackModal.length) $feedbackModal.hide().text('');\r\n        if ($errorModal.length) $errorModal.hide().text('');\r\n        $button.prop('disabled', true);\r\n\r\n        console.log('Spinner y botón modificados (intentado). Preparando datos AJAX...');\r\n        const formData = $form.serialize();\r\n\r\n        // Acceso seguro al objeto global mph_admin_obj\r\n        if ( !window.mph_admin_obj || typeof window.mph_admin_obj.ajax_url === 'undefined' || window.mph_admin_obj.ajax_url === '' ) {\r\n            console.error(\"Error crítico: window.mph_admin_obj o window.mph_admin_obj.ajax_url no están definidos o están vacíos.\");\r\n            if ($errorModal.length) $errorModal.text(\"Error de configuración interna (AJAX URL). Contacte al administrador.\").show();\r\n            $button.prop('disabled', false);\r\n            if ($spinnerModal.length) $spinnerModal.removeClass('is-active');\r\n            return; // Detener si falta\r\n        }\r\n\r\n        // Si llegamos aquí, el objeto y ajax_url son válidos.\r\n        const ajax_url = mph_admin_obj.ajax_url;\r\n        // const nonce = mph_admin_obj.nonce; // Ya no necesitamos el nonce de mph_admin_obj\r\n        const i18n = mph_admin_obj.i18n || {};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // Nombre del campo nonce (debe coincidir con wp_nonce_field en PHP)\r\n        const nonceFieldName = 'mph_nonce_guardar'; // Nuevo nombre del campo\r\n            const $nonceField = $form.find('input[name=\"' + nonceFieldName + '\"]');\r\n            let nonceValue = '';\r\n\r\n            if ($nonceField.length) {\r\n                nonceValue = $nonceField.val();\r\n                console.log(`Valor del campo nonce (${nonceFieldName}) leído del DOM:`, nonceValue);\r\n            } else {\r\n                console.error(`¡Error crítico! No se encontró el campo nonce \"${nonceFieldName}\" en el formulario.`);\r\n                if ($errorModal.length) $errorModal.text(\"Error de seguridad interno (Falta campo Nonce).\").show();\r\n                $button.prop('disabled', false); if ($spinnerModal.length) $spinnerModal.removeClass('is-active');\r\n                return;\r\n            }\r\n\r\n            // Construir dataToSend: acción + formData (que ya incluye nonce)\r\n            // NO necesitamos añadir el nonce explícitamente si está en formData\r\n            const dataToSend = formData + '&action=mph_guardar_horario_maestro';\r\n            console.log('Datos COMPLETOS a enviar (formData incluye nonce):', dataToSend);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n\r\n        // Petición AJAX\r\n        $.post(ajax_url, dataToSend)\r\n            .done(function (response) {\r\n               if (response.success) {\r\n                    console.log(\"Respuesta AJAX exitosa:\", response);\r\n                    if ($feedbackModal.length) $feedbackModal.text(i18n.horario_guardado || '¡Guardado!').show();\r\n                    if (response.data && response.data.html_tabla && $tablaContainer.length) {\r\n                        console.log(\"Actualizando tabla de horarios...\");\r\n                        $tablaContainer.html(response.data.html_tabla);\r\n                    } else {\r\n                         console.warn(\"Respuesta exitosa pero no se encontró HTML de tabla para actualizar.\");\r\n                    }\r\n                    setTimeout(function () { closeModal($modal); }, 1500);\r\n                } else {\r\n                    console.error('Error servidor (success=false):', response.data?.message);\r\n                    if ($errorModal.length) $errorModal.text(response.data?.message || i18n.error_general || 'Error desconocido.').show();\r\n                }\r\n            })\r\n            .fail(function (jqXHR, textStatus, errorThrown) {\r\n               console.error(\"Error AJAX:\", textStatus, errorThrown, jqXHR.responseText);\r\n               // Mostrar mensaje de error específico si es 403 (Nonce)\r\n                if (jqXHR.status === 403) {\r\n                     if ($errorModal.length) $errorModal.text(i18n.error_seguridad || 'Error de seguridad. Intente recargar la página.').show();\r\n                } else {\r\n                    if ($errorModal.length) $errorModal.text(i18n.error_general || 'Error de comunicación.').show();\r\n                }\r\n            })\r\n            .always(function () {\r\n                console.log(\"Petición AJAX completada (always).\");\r\n                if ($spinnerModal.length) $spinnerModal.removeClass('is-active');\r\n                $button.prop('disabled', false);\r\n            });\r\n    }); // Fin click #mph-guardar-horario\r\n\r\n     /* Inicia Modificación: Corregir log final */\r\n    console.log(`Manejador CLICK para #mph-guardar-horario inicializado.`);\r\n    /* Finaliza Modificación */\r\n} // Fin initAjaxSubmit","// assets/src/js/admin/modal-form-interaction.js\r\nimport $ from 'jquery';\r\n\r\n// --- Selectores (Podrían pasarse o definirse globalmente si es necesario) ---\r\n// Asumimos que estos selectores apuntan a elementos que existen cuando se llama initFormInteractions\r\nconst $modal = $('#mph-modal-horario'); // Necesario para delegar eventos\r\nconst $seccionAsignacion = $('.mph-asignacion-especifica'); // Podríamos buscarlo dentro del modal: $modal.find(...)\r\nconst $btnMostrarAsignacion = $('#mph-mostrar-asignacion');\r\nconst $programasAdmisiblesContainer = $('#mph-programas-admisibles-container');\r\nconst $sedesAdmisiblesContainer = $('#mph-sedes-admisibles-container');\r\nconst $rangosAdmisiblesContainer = $('#mph-rangos-admisibles-container');\r\nconst $selectProgramaAsignado = $('#mph_programa_asignado');\r\nconst $selectSedeAsignada = $('#mph_sede_asignada');\r\nconst $selectRangoAsignado = $('#mph_rango_edad_asignado');\r\nconst $horaInicioGeneral = $('#mph_hora_inicio_general');\r\nconst $horaFinGeneral = $('#mph_hora_fin_general');\r\nconst $horaInicioAsignada = $('#mph_hora_inicio_asignada');\r\nconst $horaFinAsignada = $('#mph_hora_fin_asignada');\r\nconst $bufferAntes = $('#mph_buffer_minutos_antes');\r\nconst $bufferDespues = $('#mph_buffer_minutos_despues');\r\nconst $bufferLinkeado = $('#mph_buffer_linkeado');\r\n\r\n/**\r\n * Puebla los selects de la sección de asignación basándose\r\n * en los checkboxes seleccionados en la sección general.\r\n */\r\nexport function poblarSelectsAsignacion() {\r\n    console.log(\"Poblando selects de asignación...\"); // Log\r\n\r\n    if (typeof window.mph_admin_obj === 'undefined' || !mph_admin_obj.todos_programas) {\r\n        console.error(\"poblarSelectsAsignacion: mph_admin_obj o sus datos no están disponibles.\");\r\n        // Quizás mostrar un error al usuario o deshabilitar selects?\r\n         $selectProgramaAsignado.empty().append($('<option value=\"\">Error datos</option>'));\r\n         $selectSedeAsignada.empty().append($('<option value=\"\">Error datos</option>'));\r\n         $selectRangoAsignado.empty().append($('<option value=\"\">Error datos</option>'));\r\n        return; // No continuar si no hay datos\r\n    }\r\n\r\n    // Limpiar selects actuales\r\n    $selectProgramaAsignado.empty().append($('<option>', { value: '', text: '-- Seleccionar Programa --' }));\r\n    $selectSedeAsignada.empty().append($('<option>', { value: '', text: '-- Seleccionar Sede --' }));\r\n    $selectRangoAsignado.empty().append($('<option>', { value: '', text: '-- Seleccionar Rango --' }));\r\n\r\n    let primerProgramaNoComunOption = null;\r\n    let primerProgramaOption = null;\r\n    let primerSedeNoComunOption = null;\r\n    let primerSedeOption = null;\r\n    let primerRangoNoComunOption = null;\r\n    let primerRangoOption = null;\r\n\r\n    // Verificar si mph_admin_obj está disponible (debe cargarse antes)\r\n    if (typeof window.mph_admin_obj === 'undefined') {\r\n        console.error(\"poblarSelectsAsignacion: mph_admin_obj no está disponible.\");\r\n        return;\r\n    }\r\n\r\n    // Programas\r\n    $programasAdmisiblesContainer.find('input:checked').each(function() {\r\n        const termId = $(this).val();\r\n        const termName = $(this).parent('label').text().trim().replace(' (Común)', '');\r\n        const programaData = mph_admin_obj.todos_programas.find(p => p.term_id == termId);\r\n        const esComun = programaData ? programaData.es_comun : false;\r\n        const $option = $('<option>', { value: termId, text: termName, 'data-es-comun': esComun });\r\n        $selectProgramaAsignado.append($option);\r\n        if (primerProgramaOption === null) { primerProgramaOption = $option; }\r\n        if (!esComun && primerProgramaNoComunOption === null) { primerProgramaNoComunOption = $option; }\r\n    });\r\n    if (primerProgramaNoComunOption) { primerProgramaNoComunOption.prop('selected', true); }\r\n    else if (primerProgramaOption) { primerProgramaOption.prop('selected', true); }\r\n\r\n    // Sedes\r\n    $sedesAdmisiblesContainer.find('input:checked').each(function() {\r\n        const termId = $(this).val();\r\n        const termName = $(this).parent('label').text().trim().replace(' (Común)', '');\r\n        const sedeData = mph_admin_obj.todas_sedes.find(s => s.term_id == termId);\r\n        const esSedeComun = sedeData ? sedeData.es_comun : false;\r\n        const $option = $('<option>', { value: termId, text: termName, 'data-es-comun': esSedeComun });\r\n        $selectSedeAsignada.append($option);\r\n        if (primerSedeOption === null) { primerSedeOption = $option; }\r\n        if (!esSedeComun && primerSedeNoComunOption === null) { primerSedeNoComunOption = $option; }\r\n    });\r\n     if (primerSedeNoComunOption) { primerSedeNoComunOption.prop('selected', true); }\r\n     else if (primerSedeOption) { primerSedeOption.prop('selected', true); }\r\n\r\n    // Rangos\r\n    $rangosAdmisiblesContainer.find('input:checked').each(function() {\r\n        const termId = $(this).val();\r\n        const termName = $(this).parent('label').text().trim().replace(' (Común)', '');\r\n        const rangoData = mph_admin_obj.todos_rangos.find(r => r.term_id == termId);\r\n        const esRangoComun = rangoData ? rangoData.es_comun : false;\r\n        const $option = $('<option>', { value: termId, text: termName, 'data-es-comun': esRangoComun });\r\n        $selectRangoAsignado.append($option);\r\n        if (primerRangoOption === null) { primerRangoOption = $option; }\r\n        if (!esRangoComun && primerRangoNoComunOption === null) { primerRangoNoComunOption = $option; }\r\n    });\r\n    if (primerRangoNoComunOption) { primerRangoNoComunOption.prop('selected', true); }\r\n    else if (primerRangoOption) { primerRangoOption.prop('selected', true); }\r\n}\r\n\r\n\r\n/**\r\n * Sincroniza los valores de los campos de buffer si están linkeados.\r\n * @param {jQuery} campoModificado - El campo input que cambió.\r\n */\r\nfunction sincronizarBuffers(campoModificado) {\r\n    if ($bufferLinkeado.is(':checked')) {\r\n        const valor = campoModificado.val();\r\n        if (campoModificado.attr('id') === 'mph_buffer_minutos_antes') {\r\n            $bufferDespues.val(valor);\r\n        } else {\r\n            $bufferAntes.val(valor);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Inicializa los manejadores de eventos para la interacción del formulario del modal.\r\n */\r\nexport function initFormInteractions() {\r\n    console.log('Inicializando interacciones del formulario del modal...');\r\n\r\n    if (!$modal.length) {\r\n        console.error(\"initFormInteractions: Modal no encontrado.\");\r\n        return;\r\n    }\r\n\r\n    // Mostrar/Ocultar sección de asignación específica (delegado al modal)\r\n    $modal.on('click', '#mph-mostrar-asignacion', function () {\r\n        console.log(\"Botón Mostrar/Ocultar Asignación clickeado.\");\r\n        // Asegurarse que $seccionAsignacion es correcta\r\n        const $seccion = $modal.find('.mph-asignacion-especifica');\r\n        $seccion.slideToggle(function() {\r\n             if ($seccion.is(':visible')) {\r\n                console.log(\"Sección asignación visible. Poblando selects y prellenando horas.\");\r\n                poblarSelectsAsignacion();\r\n                // Pre-llenar horas de asignación con las generales (buscar dentro del modal)\r\n                $modal.find('#mph_hora_inicio_asignada').val($modal.find('#mph_hora_inicio_general').val());\r\n                $modal.find('#mph_hora_fin_asignada').val($modal.find('#mph_hora_fin_general').val());\r\n             } else {\r\n                 console.log(\"Sección asignación oculta.\");\r\n             }\r\n        });\r\n    });\r\n\r\n    // Actualizar selects de asignación si cambian los checkboxes generales (delegado al modal)\r\n     $modal.on('change', '#mph-programas-admisibles-container input[type=\"checkbox\"], #mph-sedes-admisibles-container input[type=\"checkbox\"], #mph-rangos-admisibles-container input[type=\"checkbox\"]', function() {\r\n        // Usar $seccionAsignacion global o buscarla de nuevo\r\n         if ($modal.find('.mph-asignacion-especifica').is(':visible')) {\r\n             console.log(\"Checkbox admisible cambiado. Repoblando selects.\");\r\n            poblarSelectsAsignacion();\r\n        }\r\n    });\r\n\r\n     // Sincronizar buffers (delegado al modal)\r\n    $modal.on('change input', '#mph_buffer_minutos_antes', function() {\r\n        sincronizarBuffers($(this));\r\n    });\r\n    $modal.on('change input', '#mph_buffer_minutos_despues', function() {\r\n        sincronizarBuffers($(this));\r\n    });\r\n\r\n    // Validaciones en tiempo real (delegadas al modal)\r\n    $modal.on('change', '#mph_hora_fin_general', function() {\r\n        // Usar $horaInicioGeneral global o buscarla: const $inicio = $modal.find('#mph_hora_inicio_general');\r\n        if ($horaInicioGeneral.val() && $(this).val() <= $horaInicioGeneral.val()) {\r\n            $modal.find('.mph-error-hora').show();\r\n        } else {\r\n            $modal.find('.mph-error-hora').hide();\r\n        }\r\n    });\r\n     $modal.on('change', '#mph_hora_fin_asignada', function() {\r\n        const $errorDiv = $modal.find('.mph-error-hora-asignada');\r\n         // Usar globales o buscar dentro del modal\r\n        const inicioAsig = $horaInicioAsignada.val();\r\n        const finAsig = $(this).val();\r\n        const inicioGen = $horaInicioGeneral.val();\r\n        const finGen = $horaFinGeneral.val();\r\n        if (inicioAsig && finAsig <= inicioAsig) { $errorDiv.text( (window.mph_admin_obj?.i18n?.error_hora_asignada_invalida) || 'Hora fin asignada debe ser posterior a inicio.').show(); }\r\n        else if (inicioGen && finGen && (inicioAsig < inicioGen || finAsig > finGen)) { $errorDiv.text( (window.mph_admin_obj?.i18n?.error_hora_asignada_rango) || 'Horas asignadas fuera del rango general.').show(); }\r\n        else { $errorDiv.hide(); }\r\n    });\r\n\r\n    console.log('Interacciones del formulario inicializadas.');\r\n}","// assets/src/js/admin/modal-init.js\r\nimport $ from 'jquery';\r\n\r\n// Variables para selectores comunes dentro del modal (podrían moverse aquí o dejarse globales en main si se prefiere)\r\nconst $feedbackModal = $('#mph-modal-horario .mph-modal-feedback');\r\nconst $errorModal = $('#mph-modal-horario .mph-modal-error');\r\nconst $spinnerModal = $('#mph-modal-horario .mph-modal-acciones .spinner');\r\n// ... otros selectores de campos si se usan en resetModalForm\r\n\r\nlet resetCallback = null; // Para guardar la función de reseteo pasada\r\n\r\n/**\r\n * Inicializa el jQuery UI Dialog.\r\n * @param {string} modalSelector - Selector CSS para el div del modal.\r\n * @param {function} closeCallback - Función a llamar al cerrar.\r\n */\r\nexport function initDialog(modalSelector, closeCallback) {\r\n    const $modal = $(modalSelector);\r\n    if (!$modal.length) {\r\n        console.error(`Error Crítico: Elemento modal \"${modalSelector}\" no encontrado.`);\r\n        return;\r\n    }\r\n\r\n    resetCallback = closeCallback; // Guardar callback\r\n\r\n    $modal.dialog({\r\n        autoOpen: false,\r\n        modal: true,\r\n        width: 600,\r\n        height: 'auto',\r\n        draggable: true,\r\n        resizable: false,\r\n        closeText: \"Cerrar\",\r\n        classes: { \"ui-dialog\": \"mph-jquery-ui-modal\" },\r\n        open: function() {\r\n            console.log(\"Evento 'open' del diálogo disparado.\");\r\n            $feedbackModal.hide().text('');\r\n            $errorModal.hide().text('');\r\n            $spinnerModal.removeClass('is-active');\r\n        },\r\n        close: function() {\r\n            console.log(\"Evento 'close' del diálogo disparado.\");\r\n            if (typeof resetCallback === 'function') {\r\n                resetCallback($(this)); // Llamar al callback de reseteo pasando el elemento\r\n            }\r\n        }\r\n    });\r\n    console.log(`Diálogo \"${modalSelector}\" inicializado.`);\r\n}\r\n\r\n/**\r\n * Abre el diálogo especificado.\r\n * @param {string} modalSelector - Selector CSS para el div del modal.\r\n */\r\nexport function openModal(modalSelector) {\r\n    const $modal = $(modalSelector);\r\n     if ($modal.length && $modal.hasClass('ui-dialog-content')) { // Verificar si ya está inicializado\r\n        console.log(`Abriendo modal \"${modalSelector}\"...`);\r\n        try {\r\n             $modal.dialog('open');\r\n             console.log(\"Modal abierto.\");\r\n         } catch(e) {\r\n             console.error(\"Error al abrir diálogo:\", e);\r\n         }\r\n     } else {\r\n         console.error(`Modal \"${modalSelector}\" no encontrado o no inicializado.`);\r\n     }\r\n}\r\n\r\n /**\r\n * Cierra el diálogo especificado.\r\n * @param {string} modalSelector - Selector CSS para el div del modal.\r\n */\r\n export function closeModal(modalSelector) {\r\n    const $modal = $(modalSelector);\r\n     if ($modal.length && $modal.hasClass('ui-dialog-content')) {\r\n         console.log(`Cerrando modal \"${modalSelector}\"...`);\r\n        $modal.dialog('close');\r\n     }\r\n }\r\n\r\n\r\n/**\r\n * Resetea el formulario dentro del modal.\r\n * @param {jQuery} $dialogElement - El objeto jQuery del elemento del diálogo.\r\n */\r\nexport function resetModalForm($dialogElement) {\r\n    console.log('Intentando resetear formulario...');\r\n     if (!$dialogElement || !$dialogElement.length) {\r\n         console.error(\"resetModalForm: No se recibió $dialogElement.\");\r\n         return;\r\n     }\r\n    const $form = $dialogElement.find('form#mph-form-horario');\r\n    if (!$form.length) {\r\n        console.error('Error en resetModalForm: No se encontró form#mph-form-horario dentro del contexto.');\r\n        // Loggear contenido si falla\r\n        console.log(\"Contenido HTML dentro del contexto:\", $dialogElement.html());\r\n        console.log(\"Hijos dentro del contexto:\", $dialogElement.children());\r\n        return;\r\n    }\r\n    console.log('Formulario encontrado en resetModalForm. Reseteando...');\r\n    try {\r\n        $form[0].reset(); // Reset nativo\r\n\r\n        // Reset específico para nuestros campos (usando selectores buscados DENTRO del form o globales)\r\n        $form.find('#mph_horario_id_editando').val(''); // Limpiar ID\r\n\r\n        // Reset checkboxes comunes (requiere mph_admin_obj disponible globalmente o pasado)\r\n        if (window.mph_admin_obj) {\r\n            $form.find('#mph-programas-admisibles-container input[type=\"checkbox\"]').each(function(){\r\n                 const termId = $(this).val();\r\n                 const programaData = mph_admin_obj.todos_programas.find(p => p.term_id == termId);\r\n                 $(this).prop('checked', (programaData && programaData.es_comun));\r\n            });\r\n             $form.find('#mph-sedes-admisibles-container input[type=\"checkbox\"]').each(function(){\r\n                 const termId = $(this).val();\r\n                 const sedeData = mph_admin_obj.todas_sedes.find(s => s.term_id == termId);\r\n                 $(this).prop('checked', (sedeData && sedeData.es_comun));\r\n            });\r\n             $form.find('#mph-rangos-admisibles-container input[type=\"checkbox\"]').each(function(){\r\n                 const termId = $(this).val();\r\n                 const rangoData = mph_admin_obj.todos_rangos.find(r => r.term_id == termId);\r\n                  $(this).prop('checked', (rangoData && rangoData.es_comun));\r\n            });\r\n        } else {\r\n            console.warn(\"mph_admin_obj no disponible para resetear checkboxes comunes.\");\r\n        }\r\n\r\n        // Limpiar selects y ocultar sección\r\n        $form.find('#mph_programa_asignado, #mph_sede_asignada, #mph_rango_edad_asignado').empty().append($('<option>', { value: '', text: '-- Seleccionar --' })); // Texto genérico\r\n        $form.find('.mph-asignacion-especifica').hide();\r\n\r\n        // Resetear errores y valores por defecto\r\n        $dialogElement.find('.mph-error-hora, .mph-error-duplicado, .mph-error-hora-asignada').hide(); // Buscar errores dentro del diálogo\r\n        $form.find('#mph_vacantes').val(1);\r\n        $form.find('#mph_buffer_minutos_antes').val(60);\r\n        $form.find('#mph_buffer_minutos_despues').val(60);\r\n        $form.find('#mph_buffer_linkeado').prop('checked', true);\r\n\r\n    } catch (e) {\r\n         console.error(\"Error durante resetModalForm:\", e);\r\n    }\r\n}","// assets/src/js/admin/modal-validation.js\r\nimport $ from 'jquery';\r\n\r\n// Selectores globales (o podrían pasarse a la función)\r\nconst $modal = $('#mph-modal-horario');\r\nconst $errorModal = $('#mph-modal-horario .mph-modal-error');\r\nconst $diaSemana = $('#mph_dia_semana');\r\nconst $horaInicioGeneral = $('#mph_hora_inicio_general');\r\nconst $horaFinGeneral = $('#mph_hora_fin_general');\r\nconst $programasAdmisiblesContainer = $('#mph-programas-admisibles-container');\r\nconst $sedesAdmisiblesContainer = $('#mph-sedes-admisibles-container');\r\nconst $rangosAdmisiblesContainer = $('#mph-rangos-admisibles-container');\r\nconst $seccionAsignacion = $('#mph-modal-horario .mph-asignacion-especifica'); // Buscar dentro de modal por seguridad\r\nconst $horaInicioAsignada = $('#mph_hora_inicio_asignada');\r\nconst $horaFinAsignada = $('#mph_hora_fin_asignada');\r\nconst $selectProgramaAsignado = $('#mph_programa_asignado');\r\nconst $selectSedeAsignada = $('#mph_sede_asignada');\r\nconst $selectRangoAsignado = $('#mph_rango_edad_asignado');\r\nconst $vacantes = $('#mph_vacantes');\r\nconst $bufferAntes = $('#mph_buffer_minutos_antes');\r\nconst $bufferDespues = $('#mph_buffer_minutos_despues');\r\n\r\n/**\r\n * Valida los campos del formulario del modal antes de enviar.\r\n * @param {jQuery} $form - El objeto jQuery del formulario a validar.\r\n * @returns {boolean} True si es válido, False si no.\r\n */\r\nexport function validarFormulario($form) {\r\n   console.log('--- Iniciando validarFormulario ---');\r\n    if (!$form || !$form.length) {\r\n        console.error('Error en validarFormulario: No se recibió un objeto de formulario válido.');\r\n        return false;\r\n    }\r\n    let isValid = true;\r\n    // Asegurarse que $errorModal existe\r\n    if (!$errorModal.length) {\r\n        console.error(\"Error en validarFormulario: Contenedor de errores no encontrado.\");\r\n        // Quizás mostrar un alert genérico si falla la UI de errores\r\n        // alert(\"Error interno al validar.\");\r\n        // return false; // O intentar continuar sin UI de error\r\n    } else {\r\n         $errorModal.hide().empty(); // Limpiar errores previos y ocultar\r\n    }\r\n\r\n\r\n    // --- Validación Sección General ---\r\n    if (!$diaSemana.val()) { $errorModal.append('<p>Seleccione un día.</p>'); isValid = false; }\r\n    const horaInicioGen = $horaInicioGeneral.val();\r\n    const horaFinGen = $horaFinGeneral.val();\r\n    if (!horaInicioGen || !horaFinGen) { $errorModal.append('<p>Ingrese horas generales.</p>'); isValid = false; }\r\n    else if (horaFinGen <= horaInicioGen) { $modal.find('.mph-error-hora').show(); isValid = false; } // Mostrar error junto al campo\r\n    else { $modal.find('.mph-error-hora').hide(); }\r\n\r\n    const i18n = window.mph_admin_obj?.i18n || {}; // Acceso seguro a i18n\r\n\r\n    if ($programasAdmisiblesContainer.find('input:checked').length === 0) { $errorModal.append('<p>' + (i18n.error_seleccionar_programa || 'Debe seleccionar al menos un programa admisible.') + '</p>'); isValid = false; }\r\n    if ($sedesAdmisiblesContainer.find('input:checked').length === 0) { $errorModal.append('<p>' + (i18n.error_seleccionar_sede || 'Debe seleccionar al menos una sede admisible.') + '</p>'); isValid = false; }\r\n    if ($rangosAdmisiblesContainer.find('input:checked').length === 0) { $errorModal.append('<p>' + (i18n.error_seleccionar_rango || 'Debe seleccionar al menos un rango de edad admisible.') + '</p>'); isValid = false; }\r\n\r\n    // --- Validación Sección Asignación (si visible) ---\r\n    if ($seccionAsignacion.is(':visible')) {\r\n        console.log(\"Validando sección de asignación...\");\r\n        const horaInicioAsig = $horaInicioAsignada.val();\r\n        const horaFinAsig = $horaFinAsignada.val();\r\n        const $errorHoraAsignada = $modal.find('.mph-error-hora-asignada'); // Selector error específico\r\n\r\n        if (!horaInicioAsig || !horaFinAsig) { $errorModal.append('<p>' + (i18n.error_faltan_horas_asignadas || 'Faltan horas de asignación.') + '</p>'); isValid = false; }\r\n        else {\r\n            if (horaFinAsig <= horaInicioAsig) { $errorHoraAsignada.text(i18n.error_hora_asignada_invalida || 'Hora fin asignada debe ser posterior a inicio.').show(); isValid = false; }\r\n            else if (horaInicioGen && horaFinGen && (horaInicioAsig < horaInicioGen || horaFinAsig > horaFinGen)) { $errorHoraAsignada.text(i18n.error_hora_asignada_rango || 'Horas asignadas fuera del rango general.').show(); isValid = false; }\r\n            else { $errorHoraAsignada.hide(); }\r\n        }\r\n        if (!$selectProgramaAsignado.val()) { $errorModal.append('<p>' + (i18n.error_seleccionar_programa_asig || 'Debe seleccionar un programa para la asignación.') + '</p>'); isValid = false; }\r\n        if (!$selectSedeAsignada.val()) { $errorModal.append('<p>' + (i18n.error_seleccionar_sede_asig || 'Debe seleccionar una sede para la asignación.') + '</p>'); isValid = false; }\r\n        if (!$selectRangoAsignado.val()) { $errorModal.append('<p>' + (i18n.error_seleccionar_rango_asig || 'Debe seleccionar un rango de edad para la asignación.') + '</p>'); isValid = false; }\r\n        if (parseInt($vacantes.val(), 10) < 0) { $errorModal.append('<p>' + (i18n.error_vacantes_negativas || 'Las vacantes no pueden ser negativas.') + '</p>'); isValid = false; }\r\n        const bufferAntesVal = parseInt($bufferAntes.val(), 10);\r\n        const bufferDespuesVal = parseInt($bufferDespues.val(), 10);\r\n        if (isNaN(bufferAntesVal) || bufferAntesVal < 0) { $errorModal.append('<p>' + (i18n.error_buffer_antes_invalido || 'El tiempo de buffer Antes debe ser un número positivo.') + '</p>'); isValid = false; }\r\n        if (isNaN(bufferDespuesVal) || bufferDespuesVal < 0) { $errorModal.append('<p>' + (i18n.error_buffer_despues_invalido || 'El tiempo de buffer Después debe ser un número positivo.') + '</p>'); isValid = false; }\r\n    }\r\n\r\n    // Si hay errores, mostrar el contenedor de errores\r\n    if (!isValid && $errorModal.length) {\r\n        $errorModal.show();\r\n        console.log(\"Errores de validación encontrados.\");\r\n    } else if (isValid) {\r\n         console.log(\"Validación pasada.\");\r\n    }\r\n\r\n\r\n    console.log('--- Finalizando validarFormulario --- Retornando:', isValid);\r\n    return isValid;\r\n}","// assets/src/js/admin/table-actions.js\r\nimport $ from 'jquery';\r\nimport { openModal, resetModalForm } from './modal-init';\r\nimport { poblarSelectsAsignacion } from './modal-form-interaction';\r\n// Podríamos necesitar una función específica para pre-llenar el formulario\r\n// import { prefillModalForAssignment } from './modal-helpers'; // (La crearemos si es necesario)\r\n\r\n// import { openModal, resetModalForm, /* otras funciones como prellenarFormulario */ } from './modal-init';\r\n\r\n/**\r\n * Inicializa los manejadores de eventos para los botones de acción en la tabla de horarios.\r\n * @param {string} tableContainerSelector - Selector CSS para el div que contiene la tabla.\r\n */\r\nexport function initTableActions(tableContainerSelector) {\r\n    console.log(`Inicializando acciones de tabla para \"${tableContainerSelector}\"...`);\r\n    const $tableContainer = $(tableContainerSelector);\r\n\r\n    if (!$tableContainer.length) {\r\n        console.error(\"initTableActions: Contenedor de tabla no encontrado.\");\r\n        return;\r\n    }\r\n\r\n    // --- Acción Eliminar ---\r\n    $tableContainer.on('click', '.mph-accion-eliminar', function(e) {\r\n        e.preventDefault();\r\n        const $button = $(this);\r\n        const horarioId = $button.data('horario-id');\r\n        const nonce = $button.data('nonce'); // Nonce específico para eliminar este ID\r\n        const $fila = $button.closest('tr');\r\n\r\n        // Acceso seguro al objeto global mph_admin_obj\r\n         if (typeof window.mph_admin_obj === 'undefined' || !window.mph_admin_obj.ajax_url || !window.mph_admin_obj.i18n) {\r\n             console.error(\"Error crítico: mph_admin_obj o sus propiedades no están disponibles para Eliminar.\");\r\n             alert(\"Error interno.\");\r\n             return;\r\n         }\r\n         const ajax_url = mph_admin_obj.ajax_url;\r\n         const i18n = mph_admin_obj.i18n;\r\n\r\n\r\n        if (!horarioId || !nonce) {\r\n            console.error('Error: Faltan horario_id o nonce para eliminar.');\r\n            alert(i18n.error_general || 'Error inesperado.');\r\n            return;\r\n        }\r\n\r\n        const confirmarMsg = i18n.confirmar_eliminacion || '¿Estás seguro de que deseas eliminar este horario?';\r\n        if (confirm(confirmarMsg)) {\r\n            console.log(`Intentando eliminar horario ID: ${horarioId}`);\r\n            $button.prop('disabled', true).css('opacity', 0.5);\r\n\r\n            const dataToSend = {\r\n                action: 'mph_eliminar_horario',\r\n                horario_id: horarioId,\r\n                nonce: nonce\r\n            };\r\n\r\n            $.post(ajax_url, dataToSend)\r\n                .done(function (response) {\r\n                    if (response.success) {\r\n                        console.log(`Horario ID: ${horarioId} eliminado.`);\r\n                        $fila.fadeOut(400, function() { $(this).remove(); });\r\n                        // alert(i18n.horario_eliminado || 'Horario eliminado.'); // Opcional\r\n                    } else {\r\n                        console.error('Error servidor al eliminar:', response.data?.message);\r\n                        alert(i18n.error_general + (response.data?.message ? ' (' + response.data.message + ')' : ''));\r\n                        $button.prop('disabled', false).css('opacity', 1);\r\n                    }\r\n                })\r\n                .fail(function (jqXHR, textStatus, errorThrown) {\r\n                    console.error(\"Error AJAX al eliminar:\", textStatus, errorThrown);\r\n                    alert(i18n.error_general || 'Error de comunicación.');\r\n                    $button.prop('disabled', false).css('opacity', 1);\r\n                });\r\n        } else {\r\n            console.log('Eliminación cancelada.');\r\n        }\r\n    }); // Fin click .mph-accion-eliminar\r\n\r\n    // --- Acción Asignar (Placeholder) ---\r\n    $tableContainer.on('click', '.mph-accion-asignar', function(e) {\r\n         e.preventDefault();\r\n         const $button = $(this);\r\n         const horarioInfoString = $button.data('horario-info');\r\n\r\n         console.log('Botón Asignar clickeado.');\r\n\r\n         if (!horarioInfoString) {\r\n             console.error(\"Error: No se encontró data-horario-info en el botón Asignar.\");\r\n             alert(\"Error al obtener información del horario.\");\r\n             return;\r\n         }\r\n\r\n         try {\r\n            // 1. Leer el atributo data-* usando jQuery. jQuery intenta parsear automáticamente.\r\n            const horarioInfo = $button.data('horario-info');\r\n            console.log('Info Horario Objeto (de .data()):', horarioInfo);\r\n\r\n             // 2. Verificar si obtuvimos un objeto válido\r\n             if (!horarioInfo || typeof horarioInfo !== 'object') {\r\n                 throw new Error(\"No se pudo obtener un objeto válido de data-horario-info.\");\r\n             }    \r\n            \r\n\r\n             // 3. Obtener referencia al modal (necesario para funciones de modal)\r\n             const $modal = $('#mph-modal-horario');\r\n             if (!$modal.length) {\r\n                  console.error(\"Error: Modal #mph-modal-horario no encontrado.\");\r\n                  return;\r\n             }\r\n\r\n             // 4. Resetear el formulario completamente\r\n             console.log(\"Reseteando modal antes de asignar...\");\r\n             resetModalForm($modal); // Llamar a la función importada\r\n\r\n             // 5. Pre-llenar campos de Disponibilidad General\r\n             console.log(\"Pre-llenando campos generales...\");\r\n             $modal.find('#mph_dia_semana').val(horarioInfo.dia || '');\r\n             $modal.find('#mph_hora_inicio_general').val(horarioInfo.inicio || '');\r\n             $modal.find('#mph_hora_fin_general').val(horarioInfo.fin || '');\r\n\r\n             // 6. Pre-seleccionar checkboxes admisibles\r\n             // (resetModalForm ya debería marcar los comunes, aquí marcamos los específicos de este bloque)\r\n             if (horarioInfo.programas_admisibles && Array.isArray(horarioInfo.programas_admisibles)) {\r\n                 horarioInfo.programas_admisibles.forEach(id => {\r\n                     if(id) $modal.find('#programa_' + id).prop('checked', true);\r\n                 });\r\n             }\r\n              if (horarioInfo.sedes_admisibles && Array.isArray(horarioInfo.sedes_admisibles)) {\r\n                 horarioInfo.sedes_admisibles.forEach(id => {\r\n                      if(id) $modal.find('#sede_' + id).prop('checked', true);\r\n                 });\r\n             }\r\n             if (horarioInfo.rangos_admisibles && Array.isArray(horarioInfo.rangos_admisibles)) {\r\n                 // Ojo con el slug aquí si era diferente (rango_edad vs rango_de_edad)\r\n                 horarioInfo.rangos_admisibles.forEach(id => {\r\n                      if(id) $modal.find('#rango_edad_' + id).prop('checked', true); // Usar slug correcto\r\n                 });\r\n             }\r\n             console.log(\"Checkboxes admisibles pre-seleccionados.\");\r\n\r\n             // 7. Mostrar sección de asignación específica y poblar sus selects\r\n             console.log(\"Mostrando sección de asignación...\");\r\n             const $seccionAsignacion = $modal.find('.mph-asignacion-especifica');\r\n             if ($seccionAsignacion.length) {\r\n                 // Llamar a poblarSelects (necesitaríamos importarla o rehacer la lógica aquí)\r\n                 // Por ahora, asumimos que existe una función global o la importamos si es necesario.\r\n                 // Necesita ejecutarse DESPUÉS de marcar los checkboxes.\r\n                 if (typeof poblarSelectsAsignacion === \"function\") { // ¿Está disponible globalmente? (No ideal)\r\n                     poblarSelectsAsignacion($modal); // Necesita $modal si busca elementos internos\r\n                     console.log(\"Selects de asignación poblados.\");\r\n                 } else {\r\n                      console.warn(\"Función poblarSelectsAsignacion no encontrada/importada en table-actions.js\");\r\n                      // Podríamos llamar al trigger change de los checkboxes para que se actualice si el listener está activo\r\n                      $modal.find('#mph-programas-admisibles-container input:checked').first().trigger('change');\r\n                 }\r\n\r\n\r\n                 // Pre-llenar horas de asignación con las generales (que acabamos de poner)\r\n                 $modal.find('#mph_hora_inicio_asignada').val(horarioInfo.inicio || '');\r\n                 $modal.find('#mph_hora_fin_asignada').val(horarioInfo.fin || '');\r\n                 console.log(\"Horas de asignación pre-llenadas.\");\r\n\r\n                 // Mostrar la sección (sin animación para rapidez)\r\n                 $seccionAsignacion.show();\r\n                 console.log(\"Sección de asignación mostrada.\");\r\n             } else {\r\n                  console.error(\"Error: Sección de asignación no encontrada en el modal.\");\r\n             }\r\n\r\n\r\n             // 8. Añadir el ID del horario original que se va a reemplazar/dividir\r\n             $modal.find('#mph_horario_id_editando').val(horarioInfo.horario_id || '');\r\n             console.log(\"ID de horario original (\" + horarioInfo.horario_id + \") establecido para edición.\");\r\n\r\n\r\n             // 9. Abrir el modal\r\n             console.log(\"Abriendo modal para asignar...\");\r\n             openModal($modal); // Llamar a la función importada\r\n\r\n         } catch (e) {\r\n             console.error(\"Error al parsear horarioInfo o pre-llenar modal para Asignar:\", e);\r\n             alert(\"Error al preparar el formulario de asignación.\");\r\n         }\r\n    });\r\n\r\n     // --- Acción Editar (Placeholder) ---\r\n     $tableContainer.on('click', '.mph-accion-editar', function(e) {\r\n        e.preventDefault();\r\n        const $button = $(this);\r\n        console.log('Botón Editar clickeado.');\r\n\r\n        try {\r\n            // 1. Leer y parsear datos (jQuery lo hace automáticamente)\r\n            const horarioInfo = $button.data('horario-info');\r\n            console.log('Info Horario Objeto (para Editar):', horarioInfo);\r\n             if (!horarioInfo || typeof horarioInfo !== 'object') {\r\n                 throw new Error(\"No se pudo obtener un objeto válido de data-horario-info.\");\r\n             }\r\n\r\n             // 2. Obtener referencia al modal\r\n             const $modal = $('#mph-modal-horario');\r\n             if (!$modal.length) { throw new Error(\"Modal #mph-modal-horario no encontrado.\"); }\r\n\r\n             // 3. Resetear el formulario\r\n             console.log(\"Reseteando modal antes de editar...\");\r\n             resetModalForm($modal);\r\n\r\n             // 4. Pre-llenar TODOS los campos con horarioInfo\r\n             console.log(\"Pre-llenando TODOS los campos para editar...\");\r\n\r\n             // --- Campos Generales ---\r\n             $modal.find('#mph_dia_semana').val(horarioInfo.dia || '');\r\n             console.log(\"Pre-llenando horas generales con horas asignadas para editar...\");\r\n             $modal.find('#mph_hora_inicio_general').val(horarioInfo.inicio_asig || ''); // Usar inicio_asig\r\n             $modal.find('#mph_hora_fin_general').val(horarioInfo.fin_asig || '');     // Usar fin_asig\r\n\r\n             // Checkboxes admisibles (marcar comunes + específicos de este bloque si los pasamos)\r\n             // resetModalForm ya marca comunes. Marcar los específicos si los incluimos en horarioInfo.prog_admisibles etc.\r\n              if (horarioInfo.prog_admisibles && Array.isArray(horarioInfo.prog_admisibles)) {\r\n                 horarioInfo.prog_admisibles.forEach(id => { if(id) $modal.find('#programa_' + id).prop('checked', true); });\r\n             }\r\n              if (horarioInfo.sede_admisibles && Array.isArray(horarioInfo.sede_admisibles)) {\r\n                 horarioInfo.sede_admisibles.forEach(id => { if(id) $modal.find('#sede_' + id).prop('checked', true); });\r\n             }\r\n             if (horarioInfo.rango_admisibles && Array.isArray(horarioInfo.rango_admisibles)) {\r\n                 horarioInfo.rango_admisibles.forEach(id => { if(id) $modal.find('#rango_edad_' + id).prop('checked', true); }); // Usar slug correcto\r\n             }\r\n              console.log(\"Checkboxes admisibles pre-seleccionados para editar.\");\r\n\r\n\r\n             // --- Campos Específicos ---\r\n             $modal.find('#mph_hora_inicio_asignada').val(horarioInfo.inicio_asig || '');\r\n             $modal.find('#mph_hora_fin_asignada').val(horarioInfo.fin_asig || '');\r\n             $modal.find('#mph_vacantes').val(horarioInfo.vacantes !== undefined ? horarioInfo.vacantes : 1); // Usar valor o default\r\n             $modal.find('#mph_buffer_minutos_antes').val(horarioInfo.buffer_antes !== undefined ? horarioInfo.buffer_antes : 60);\r\n             $modal.find('#mph_buffer_minutos_despues').val(horarioInfo.buffer_despues !== undefined ? horarioInfo.buffer_despues : 60);\r\n             // Determinar si los buffers estaban linkeados (si son iguales)\r\n             $modal.find('#mph_buffer_linkeado').prop('checked', horarioInfo.buffer_antes === horarioInfo.buffer_despues);\r\n\r\n             // Poblar selects y seleccionar el valor guardado\r\n             poblarSelectsAsignacion($modal); // Poblar con opciones basadas en checkboxes marcados\r\n             $modal.find('#mph_programa_asignado').val(horarioInfo.prog_asig || ''); // Seleccionar valor\r\n             $modal.find('#mph_sede_asignada').val(horarioInfo.sede_asig || '');     // Seleccionar valor\r\n             $modal.find('#mph_rango_edad_asignado').val(horarioInfo.rango_asig || ''); // Seleccionar valor\r\n             console.log(\"Campos específicos pre-llenados.\");\r\n\r\n\r\n             // 5. Mostrar sección de asignación específica (porque estamos editando una)\r\n             console.log(\"Mostrando sección de asignación para editar...\");\r\n             const $seccionAsignacion = $modal.find('.mph-asignacion-especifica');\r\n             if ($seccionAsignacion.length) {\r\n                 $seccionAsignacion.show();\r\n             }\r\n\r\n             // 6. Establecer ID Original\r\n             $modal.find('#mph_horario_id_editando').val(horarioInfo.horario_id || '');\r\n             console.log(\"ID de horario (\" + (horarioInfo.horario_id || 'N/A') + \") establecido para edición.\");\r\n\r\n             // 7. Abrir el modal\r\n             console.log(\"Abriendo modal para editar...\");\r\n             openModal($modal);\r\n\r\n        } catch (e) {\r\n            console.error(\"Error al procesar horarioInfo o pre-llenar modal para Editar:\", e);\r\n            alert(\"Error al preparar el formulario de edición.\");\r\n        }\r\n    });\r\n\r\n    console.log(`Acciones de tabla para \"${tableContainerSelector}\" inicializadas.`);\r\n}","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// assets/src/js/admin/main.js\r\nimport $ from 'jquery';\r\nimport { initDialog, openModal, closeModal, resetModalForm } from './modal-init'; // Sin initModalButtons\r\nimport { initFormInteractions } from './modal-form-interaction';\r\nimport { initAjaxSubmit } from './modal-ajax';\r\nimport { initTableActions } from './table-actions';\r\n\r\n$(window).on('load', function() {\r\n    console.log('Admin JS Bundle Loaded (window.load)');\r\n\r\n    const $modal = $('#mph-modal-horario');\r\n    if (!$modal.length) {\r\n         console.error(\"CRÍTICO: Elemento modal #mph-modal-horario no encontrado en window.load.\");\r\n         return;\r\n    }\r\n\r\n    function checkAdminObject() {\r\n        if (typeof window.mph_admin_obj !== 'undefined' && window.mph_admin_obj.todos_programas) {\r\n            console.log('mph_admin_obj está listo.');\r\n            initDependentModules();\r\n        } else {\r\n            console.log('mph_admin_obj aún no está listo, reintentando...');\r\n            setTimeout(checkAdminObject, 100);\r\n        }\r\n    }\r\n\r\n    function initDependentModules() {\r\n        console.log(\"Inicializando módulos dependientes de mph_admin_obj...\");\r\n        initFormInteractions($modal);\r\n        initAjaxSubmit($modal); // Pasar $modal\r\n        initTableActions('#mph-tabla-horarios-container');\r\n        // initModalButtons($modal); // ELIMINADA ESTA LLAMADA\r\n        console.log(\"Módulos dependientes inicializados.\");\r\n    }\r\n\r\n    console.log(\"Inicializando diálogo...\");\r\n    initDialog($modal, resetModalForm); // Pasar $modal\r\n\r\n    // Manejador Botón Cancelar (puesto aquí por simplicidad de acceso a $modal y closeModal)\r\n     if ($modal.length) {\r\n         $modal.on('click', '#mph-cancelar-modal', function () {\r\n             console.log(\"Botón Cancelar Clickeado (desde main.js)\");\r\n             closeModal($modal); // Llamar a closeModal pasando $modal\r\n         });\r\n         console.log(\"Manejador para #mph-cancelar-modal inicializado (en main.js).\");\r\n    }\r\n\r\n    // Manejador Botón Abrir\r\n    const $metaBoxWrapper = $('.mph-gestion-horarios-wrapper');\r\n    if ($metaBoxWrapper.length) {\r\n        $metaBoxWrapper.on('click', '#mph-abrir-modal-horario', function () {\r\n            console.log('Abrir Modal Clicked');\r\n            resetModalForm($modal); // Pasar $modal\r\n            openModal($modal); // Pasar $modal\r\n        });\r\n    } else { console.warn(\"Wrapper del Metabox no encontrado.\"); }\r\n\r\n    // Iniciar la verificación para el objeto localizado\r\n    checkAdminObject();\r\n\r\n    console.log('MPH Admin Initializations Started...');\r\n}); // Fin window.load"],"names":["$","validarFormulario","closeModal","initAjaxSubmit","$modal","console","log","length","find","error","$spinnerModal","$feedbackModal","$errorModal","$tablaContainer","on","e","window","mph_admin_obj","$button","$form","alert","addClass","hide","text","prop","formData","serialize","ajax_url","show","removeClass","i18n","nonceFieldName","$nonceField","nonceValue","val","concat","dataToSend","post","done","response","success","horario_guardado","data","html_tabla","html","warn","setTimeout","_response$data","_response$data2","message","error_general","fail","jqXHR","textStatus","errorThrown","responseText","status","error_seguridad","always","$seccionAsignacion","$btnMostrarAsignacion","$programasAdmisiblesContainer","$sedesAdmisiblesContainer","$rangosAdmisiblesContainer","$selectProgramaAsignado","$selectSedeAsignada","$selectRangoAsignado","$horaInicioGeneral","$horaFinGeneral","$horaInicioAsignada","$horaFinAsignada","$bufferAntes","$bufferDespues","$bufferLinkeado","poblarSelectsAsignacion","todos_programas","empty","append","value","primerProgramaNoComunOption","primerProgramaOption","primerSedeNoComunOption","primerSedeOption","primerRangoNoComunOption","primerRangoOption","each","termId","termName","parent","trim","replace","programaData","p","term_id","esComun","es_comun","$option","sedeData","todas_sedes","s","esSedeComun","rangoData","todos_rangos","r","esRangoComun","sincronizarBuffers","campoModificado","is","valor","attr","initFormInteractions","$seccion","slideToggle","$errorDiv","inicioAsig","finAsig","inicioGen","finGen","_window$mph_admin_obj","error_hora_asignada_invalida","_window$mph_admin_obj2","error_hora_asignada_rango","resetCallback","initDialog","modalSelector","closeCallback","dialog","autoOpen","modal","width","height","draggable","resizable","closeText","classes","open","close","openModal","hasClass","resetModalForm","$dialogElement","children","reset","$diaSemana","$vacantes","isValid","horaInicioGen","horaFinGen","error_seleccionar_programa","error_seleccionar_sede","error_seleccionar_rango","horaInicioAsig","horaFinAsig","$errorHoraAsignada","error_faltan_horas_asignadas","error_seleccionar_programa_asig","error_seleccionar_sede_asig","error_seleccionar_rango_asig","parseInt","error_vacantes_negativas","bufferAntesVal","bufferDespuesVal","isNaN","error_buffer_antes_invalido","error_buffer_despues_invalido","initTableActions","tableContainerSelector","$tableContainer","preventDefault","horarioId","nonce","$fila","closest","confirmarMsg","confirmar_eliminacion","confirm","css","action","horario_id","fadeOut","remove","horarioInfoString","horarioInfo","_typeof","Error","dia","inicio","fin","programas_admisibles","Array","isArray","forEach","id","sedes_admisibles","rangos_admisibles","first","trigger","inicio_asig","fin_asig","prog_admisibles","sede_admisibles","rango_admisibles","vacantes","undefined","buffer_antes","buffer_despues","prog_asig","sede_asig","rango_asig","checkAdminObject","initDependentModules","$metaBoxWrapper"],"sourceRoot":""}